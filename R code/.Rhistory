options(scipen=999)
source("dataFunctions.R")
source("dataPaths.R")
source("plots.R")
dataBase <- read.csv(path_main_db)
accidentsDB <- read.csv(path_accidents_db)
exchangeRateIsraelBank <- read.csv(path_exchange_rates)
NYSE <- read.csv(path_NYSE)
NYSE <- NYSEadd_revenue(NYSE)
dataBase$NYSE <- 0
dataBase$exchangeRate <- 0
dataBase$DayOfAccident <- 0
dataBase$firstDayAfterAccident <- 0
dataBase$secondDayAfterAccident <- 0
dataBase$thirdDayAfterAccident <- 0
for (date in NYSE$Date) { # note: assuming no need to fix dates for NYSE trading
if(date %in% dataBase$Date){
indexNYSE <- which(NYSE$Date == date)
index <- which(dataBase$Date == date)
dataBase$NYSE[index] <- NYSE$revenue[indexNYSE]
}
}
View(dataBase)
View(NYSE)
for (date in NYSE$Date) { # note: assuming no need to fix dates for NYSE trading
if(date %in% dataBase$Date){
dateInFormat <- format(as.Date(date), "%-d/%-m/%Y")
indexNYSE <- which(NYSE$Date == date)
index <- which(dataBase$Date == date)
dataBase$NYSE[index] <- NYSE$revenue[indexNYSE]
}
}
View(dataBase)
for (date in NYSE$Date) { # note: assuming no need to fix dates for NYSE trading
if(date %in% dataBase$Date){
dateInFormat <- sub("^0", "", format(as.Date(date), "%d/%m/%Y"))
indexNYSE <- which(NYSE$Date == date)
index <- which(dataBase$Date == date)
dataBase$NYSE[index] <- NYSE$revenue[indexNYSE]
}
}
View(dataBase)
for (date in NYSE$Date) { # note: assuming no need to fix dates for NYSE trading
if(date %in% dataBase$Date){
dateInFormat <- sub("^0", "", format(as.Date(date), "%d/%m/%Y"))
indexNYSE <- which(NYSE$Date == date)
index <- which(dataBase$Date == date)
dataBase$NYSE[index] <- NYSE$revenue[indexNYSE]
}
}
for (date in NYSE$Date) { # note: assuming no need to fix dates for NYSE trading
if(date %in% dataBase$Date){
dateInFormat <- sub("^0", "", format(as.Date(date), "%d/%m/%Y"))
indexNYSE <- which(NYSE$Date == date)
index <- which(dataBase$Date == date)
dataBase$NYSE[index] <- NYSE$revenue[indexNYSE]
}
}
for (date in NYSE$Date) { # note: assuming no need to fix dates for NYSE trading
if(date %in% dataBase$Date){
dateInFormat <- sub("^0", "", format(as.Date(date), "%d/%m/%Y"))
print(dateInFormat)
indexNYSE <- which(NYSE$Date == date)
index <- which(dataBase$Date == date)
dataBase$NYSE[index] <- NYSE$revenue[indexNYSE]
}
}
for (date in NYSE$Date) { # note: assuming no need to fix dates for NYSE trading
if(date %in% dataBase$Date){
dateInFormat <- sub("^0", "", format(as.Date(date), "%d/%m/%Y"))
print(dateInFormat)
indexNYSE <- which(NYSE$Date == date)
index <- which(dataBase$Date == date)
dataBase$NYSE[index] <- NYSE$revenue[indexNYSE]
}
}
for (date in NYSE$Date) { # note: assuming no need to fix dates for NYSE trading
if(date %in% dataBase$Date){
parts <- strsplit(string, "-")[[1]]
day <- as.integer(parts[3])
month <- as.integer(parts[2])
year <- parts[1]
# Combine into new format
dateInFormat <- paste0(day, "/", month, "/", year)
indexNYSE <- which(NYSE$Date == dateInFormat)
index <- which(dataBase$Date == dateInFormat)
dataBase$NYSE[index] <- NYSE$revenue[indexNYSE]
}
}
for (date in NYSE$Date) { # note: assuming no need to fix dates for NYSE trading
if(date %in% dataBase$Date){
parts <- strsplit(string, "-")[[1]]
day <- as.integer(parts[3])
month <- as.integer(parts[2])
year <- parts[1]
# Combine into new format
dateInFormat <- paste0(day, "/", month, "/", year)
cat(dateInFormat)
indexNYSE <- which(NYSE$Date == dateInFormat)
index <- which(dataBase$Date == dateInFormat)
dataBase$NYSE[index] <- NYSE$revenue[indexNYSE]
}
}
for (date in NYSE$Date) { # note: assuming no need to fix dates for NYSE trading
if(date %in% dataBase$Date){
parts <- strsplit(string, "-")[[1]]
day <- as.integer(parts[3])
month <- as.integer(parts[2])
year <- parts[1]
# Combine into new format
dateInFormat <- paste0(day, "/", month, "/", year)
print(dateInFormat)
indexNYSE <- which(NYSE$Date == dateInFormat)
index <- which(dataBase$Date == dateInFormat)
dataBase$NYSE[index] <- NYSE$revenue[indexNYSE]
}
}
View(dataBase)
View(NYSE)
options(scipen=999)
source("dataFunctions.R")
source("dataPaths.R")
source("plots.R")
dataBase <- read.csv(path_main_db)
accidentsDB <- read.csv(path_accidents_db)
exchangeRateIsraelBank <- read.csv(path_exchange_rates)
NYSE <- read.csv(path_NYSE)
NYSE <- NYSEadd_revenue(NYSE)
dataBase$NYSE <- 0
dataBase$exchangeRate <- 0
dataBase$DayOfAccident <- 0
dataBase$firstDayAfterAccident <- 0
dataBase$secondDayAfterAccident <- 0
dataBase$thirdDayAfterAccident <- 0
# accidentsDB <- fixTradingDates(accidentsDB)  #should already be fixed by Efrat!
for (date in NYSE$Date) { # note: assuming no need to fix dates for NYSE trading
if(date %in% dataBase$Date){
parts <- strsplit(string, "-")[[1]]
day <- as.integer(parts[3])
month <- as.integer(parts[2])
year <- parts[1]
for (date in NYSE$Date) { # note: assuming no need to fix dates for NYSE trading
if(date %in% dataBase$Date){
parts <- strsplit(string, "-")[[1]]
day <- as.integer(parts[3])
month <- as.integer(parts[2])
year <- parts[1]
# Combine into new format
dateInFormat <- paste0(day, "/", month, "/", year)
print(dateInFormat)
indexNYSE <- which(NYSE$Date == dateInFormat)
index <- which(dataBase$Date == dateInFormat)
dataBase$NYSE[index] <- NYSE$revenue[indexNYSE]
}
}
for (date in NYSE$Date) { # note: assuming no need to fix dates for NYSE trading
parts <- strsplit(string, "-")[[1]]
day <- as.integer(parts[3])
month <- as.integer(parts[2])
year <- parts[1]
# Combine into new format
dateInFormat <- paste0(day, "/", month, "/", year)
print(dateInFormat)
if(dateInFormat %in% dataBase$Date){
indexNYSE <- which(NYSE$Date == dateInFormat)
index <- which(dataBase$Date == dateInFormat)
dataBase$NYSE[index] <- NYSE$revenue[indexNYSE]
}
}
for (date in NYSE$Date) { # note: assuming no need to fix dates for NYSE trading
parts <- strsplit(string, "-")[[1]]
day <- as.integer(parts[3])
month <- as.integer(parts[2])
year <- parts[1]
# Combine into new format
dateInFormat <- paste0(day, "/", month, "/", year)
print(dateInFormat)
if(dateInFormat %in% dataBase$Date){
indexNYSE <- which(NYSE$Date == dateInFormat)
index <- which(dataBase$Date == dateInFormat)
dataBase$NYSE[index] <- NYSE$revenue[indexNYSE]
}
}
}
1+2
options(scipen=999)
source("dataFunctions.R")
source("dataPaths.R")
source("plots.R")
dataBase <- read.csv(path_main_db)
accidentsDB <- read.csv(path_accidents_db)
exchangeRateIsraelBank <- read.csv(path_exchange_rates)
NYSE <- read.csv(path_NYSE)
NYSE <- NYSEadd_revenue(NYSE)
dataBase$NYSE <- 0
dataBase$exchangeRate <- 0
dataBase$DayOfAccident <- 0
dataBase$firstDayAfterAccident <- 0
dataBase$secondDayAfterAccident <- 0
dataBase$thirdDayAfterAccident <- 0
# accidentsDB <- fixTradingDates(accidentsDB)  #should already be fixed by Efrat!
for (date in NYSE$Date) { # note: assuming no need to fix dates for NYSE trading
parts <- strsplit(string, "-")[[1]]
day <- as.integer(parts[3])
month <- as.integer(parts[2])
year <- parts[1]
# Combine into new format
dateInFormat <- paste0(day, "/", month, "/", year)
print(dateInFormat)
if(dateInFormat %in% dataBase$Date){
indexNYSE <- which(NYSE$Date == dateInFormat)
index <- which(dataBase$Date == dateInFormat)
dataBase$NYSE[index] <- NYSE$revenue[indexNYSE]
}
}
for (date in NYSE$Date) { # note: assuming no need to fix dates for NYSE trading
parts <- strsplit(date, "-")[[1]]
day <- as.integer(parts[3])
month <- as.integer(parts[2])
year <- parts[1]
# Combine into new format
dateInFormat <- paste0(day, "/", month, "/", year)
print(dateInFormat)
if(dateInFormat %in% dataBase$Date){
indexNYSE <- which(NYSE$Date == dateInFormat)
index <- which(dataBase$Date == dateInFormat)
dataBase$NYSE[index] <- NYSE$revenue[indexNYSE]
}
}
for (date in NYSE$Date) { # note: assuming no need to fix dates for NYSE trading
parts <- strsplit(date, "-")[[1]]
day <- as.integer(parts[3])
month <- as.integer(parts[2])
year <- parts[1]
# Combine into new format
#dateInFormat <- paste0(day, "/", month, "/", year)
print(date)
dateInFormat <- paste0(year, "-", month, "-", day)
if(dateInFormat %in% dataBase$Date){
indexNYSE <- which(NYSE$Date == date)
index <- which(dataBase$Date == dateInFormat)
dataBase$NYSE[index] <- NYSE$revenue[indexNYSE]
}
}
for (date in NYSE$Date) { # note: assuming no need to fix dates for NYSE trading
parts <- strsplit(date, "/")[[1]]
day <- as.integer(parts[3])
month <- as.integer(parts[2])
year <- parts[1]
# Combine into new format
#dateInFormat <- paste0(day, "/", month, "/", year)
print(date)
dateInFormat <- paste0(year, "-", month, "-", day)
if(dateInFormat %in% dataBase$Date){
indexNYSE <- which(NYSE$Date == date)
index <- which(dataBase$Date == dateInFormat)
dataBase$NYSE[index] <- NYSE$revenue[indexNYSE]
}
}
